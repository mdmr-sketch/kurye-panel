<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kurye Admin Paneli</title>

<style>
body { font-family: Arial; background:#f4f4f4; padding:10px; }
h2 { text-align:center; }
input, select, textarea, button {
  width:100%; padding:10px; margin:6px 0;
  font-size:15px;
}
button { background:#007bff; color:white; border:none; border-radius:6px; }
.card {
  background:white; padding:10px; margin:10px 0;
  border-radius:8px;
}
.small { font-size:13px; color:#555; }
.durum { font-weight:bold; }
</style>
</head>

<body>

<h2>ðŸ“¦ Kurye Admin Paneli</h2>

<!-- SÄ°PARÄ°Åž FORMU -->
<input id="musteri" placeholder="MÃ¼ÅŸteri AdÄ±">
<input id="adres" placeholder="Adres">
<textarea id="not" placeholder="SipariÅŸ Notu"></textarea>

<select id="kurye">
  <option value="">Kurye SeÃ§</option>
  <option>Ahmet</option>
  <option>Mehmet</option>
  <option>Ali</option>
</select>

<select id="durum">
  <option>Bekliyor</option>
  <option>Yolda</option>
  <option>Teslim Edildi</option>
</select>

<input type="file" id="foto">

<button onclick="siparisEkle()">âž• SipariÅŸi Kaydet</button>

<hr>

<h3>ðŸ“‹ SipariÅŸler</h3>
<div id="liste"></div>

<script>
let siparisler = JSON.parse(localStorage.getItem("siparisler")) || [];

function siparisEkle(){
  const musteri = document.getElementById("musteri").value;
  const adres = document.getElementById("adres").value;
  const not = document.getElementById("not").value;
  const kurye = document.getElementById("kurye").value;
  const durum = document.getElementById("durum").value;
  const fotoInput = document.getElementById("foto");

  if(!musteri || !adres){
    alert("MÃ¼ÅŸteri ve adres zorunlu");
    return;
  }

  const reader = new FileReader();
  reader.onload = function(){
    siparisler.push({
      id: Date.now(),
      musteri, adres, not, kurye, durum,
      foto: reader.result
    });
    kaydet();
  }

  if(fotoInput.files[0]){
    reader.readAsDataURL(fotoInput.files[0]);
  } else {
    siparisler.push({
      id: Date.now(),
      musteri, adres, not, kurye, durum,
      foto: null
    });
    kaydet();
  }
}

function kaydet(){
  localStorage.setItem("siparisler", JSON.stringify(siparisler));
  listele();
  temizle();
}

function listele(){
  const alan = document.getElementById("liste");
  alan.innerHTML = "";

  siparisler.forEach((s,i)=>{
    alan.innerHTML += `
      <div class="card">
        <b>${s.musteri}</b>
        <div class="small">${s.adres}</div>
        <div>${s.not || ""}</div>
        <div>ðŸš´ Kurye: ${s.kurye || "AtanmadÄ±"}</div>
        <div class="durum">ðŸ“Œ ${s.durum}</div>
        ${s.foto ? `<img src="${s.foto}" style="width:100%;margin-top:5px">` : ""}
        <button style="background:red;margin-top:5px"
          onclick="sil(${s.id})">ðŸ—‘ SipariÅŸi Sil</button>
      </div>
    `;
  });
}

function sil(id){
  if(confirm("Bu sipariÅŸi silmek istediÄŸine emin misin?")){
    siparisler = siparisler.filter(s => s.id !== id);
    kaydet();
  }
}

function temizle(){
  document.getElementById("musteri").value="";
  document.getElementById("adres").value="";
  document.getElementById("not").value="";
  document.getElementById("kurye").value="";
  document.getElementById("durum").value="Bekliyor";
  document.getElementById("foto").value="";
}

listele();
</script>

</body>
</html>
